<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Gerenciar Sess√£o</title>

	<!-- Link do MATERIAL DESIGN ICONS  -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

	<!-- CSS -->
	<link rel="stylesheet" href="/frontend/css/sessao.css">
	<style>
		.border-lg-0 {
			border: none !important;
		}

		@media (min-width: 992px) {
			.border-lg-0 {
				border: none !important;
			}
		}

		.nav-link:hover {
			color: #9db668 !important;
		}
	</style>
</head>

<body class="bg-light roboto">

	<nav class="navbar navbar-expand-lg bg-white roboto border-bottom h-auto">
		<div class="container-fluid h-100">
			<!-- LOGO -->
			<a class="navbar-brand mx-auto mx-lg-0 me-lg-0 ms-lg-5" href="/inicio/:id">
				<img src="https://rokuzen.com.br/wp-content/uploads/2021/09/cropped-logomarca_pequena2.png" alt="Logo"
					height="80">
			</a>

			<!-- BOT√ÉO TOGGLER (MOBILE) -->
			<button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<i class="mdi mdi-menu fs-1 text-secondary"></i>
			</button>

			<!-- MENU -->
			<div class="collapse navbar-collapse bg-white shadow-sm border-top border-bottom border-lg-0 z-3 h-100"
				id="navbarContent">
				<ul class="navbar-nav align-items-center w-100 justify-content-around h-100">
					<li class="nav-item">
						<a class="nav-link text-secondary fs-6" href="/escala/:id">Visualizar Escala</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-secondary fs-6" href="/postosatendimento/:id">Postos de Atendimento</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-secondary fs-6" href="/sessao/:id">Gerenciar Sess√£o</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-secondary fs-6" href="/cadastrar/:id">Cadastro</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-secondary fs-6" href="/user/listar/:id">Usu√°rios</a>
					</li>
					<li class="nav-item">
						<button id="sairbutton" class="btn btn-outline-secondary px-4 my-2">Sair</button>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- Conteudo da pagina divido em 2 partes -->
	<div class="container my-4">
		<div class="row gy-4">

			<!-- LADO ESQUERDO: Terapeuta e Timer -->
			<div
				class="col-12 col-lg-6 d-flex flex-column align-items-center align-items-lg-start text-center text-lg-start px-3">


				<!-- Bot√£o Selecionar Terapeuta -->
				<button id="btnAbrirModal"
					class="btn btn-light border rounded-3 px-4 py-3 fs-5 mb-4 w-100 w-md-auto d-none"
					style="background-color: #F6F6F6;" data-bs-toggle="modal" data-bs-target="#popupTerapeuta">
					Visualizar Hor√°rio Sess√µes
					<i class="mdi mdi-arrow-down-drop-circle position-relative" style="left: 23%" ></i>
				</button>

				</button>

				<!-- Retangulo com timer -->
				<div class="d-flex flex-column justify-content-center align-items-center w-100">

					<!-- Retangulo -->
					<div
						class="timer-circle d-flex flex-column justify-content-center align-items-center text-center mb-4 ">
						<h2 id="timer" class="timer-title display-1 fw-bold">10:00</h2>

						<!-- Bot√µes de adicionar tempo -->
						<div class="d-flex flex-wrap justify-content-center w-75 mt-3">
							<div class="d-flex gap-2 justify-content-center w-100 ">
								<button id="Adicionar1min" class="btn btn-outline-success rounded-pill px-3"
									style="font-size: 1rem;">+1:00</button>
								<button id="Adicionar5min" class="btn btn-outline-success rounded-pill px-3"
									style="font-size: 1rem;">+5:00</button>
							</div>
							<div class="d-flex justify-content-center w-100 mt-2">
								<button id="Adicionar10min" class="btn btn-outline-success rounded-pill px-3"
									style="font-size: 1rem;">+10:00</button>
							</div>
						</div>
					</div>

					<!-- Bot√µes de controle -->
					<div class="text-center">
						<button id="btnIniciar" onclick="iniciarTimer()" class="btn rounded-pill px-5 py-3"
							style="background-color: #9db668 ;color:white; border: 1px solid black">
							<i class="mdi mdi-play"></i> Iniciar
						</button>
						<button id="btnPausar" onclick="pausarOuContinuar()" class="btn rounded-pill px-5 py-3 d-none"
							style="background-color: #d4e443 ;color:white; border: 1px solid black">
							<i class="mdi mdi-pause"></i> Pausar
						</button>
						<button id="btnReiniciar" onclick="reiniciarTimer()" class="btn rounded-pill px-5 py-3 d-none"
							style="background-color: #da5853 ;color:white; border: 1px solid black"><i
								class="mdi mdi-refresh"></i> Reiniciar
						</button>
					</div>

				</div>
			</div>

			<!-- LADO DIREITO : Agendamentos do dia -->
			<div class="col-12 col-lg-6 d-flex flex-column align-items-center align-items-lg-end px-3">
				<div class="border rounded-3 shadow-sm bg-white p-3 w-100" style="max-width: 100%;">
					<h3 class="fs-5 fw-semibold text-dark mb-4 text-center text-center">
						Pr√≥ximos Agendamentos do Dia
					</h3>
					<!-- Agendamentos do dia que vir√£o atrav√©s do Javascript -->
					<div id="agendamentos"></div>
				</div>
			</div>
		</div>
	</div>
	</div>

	<!-- Modal Selecionar Terapeuta -->
	<div class="modal fade" id="popupTerapeuta" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header p-3">
					<h5 class="modal-title fs-5 fw-semibold text-dark mb-0">Selecionar Terapeuta</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body p-3">
					<div id="listaTerapeutas"></div> <!-- Lista de terapeutas ser√° inserida aqui no JavaScript -->
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Encerrar Sess√£o -->
	<div class="modal fade" id="encerrarSessaoModal" tabindex="-1" aria-labelledby="encerrarSessaoLabel"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content border-0 shadow">
				<div class="modal-header bg-light">
					<h5 class="modal-title" id="encerrarSessaoLabel">Encerrar Sess√£o</h5>
				</div>
				<div class="modal-body">
					O tempo da sess√£o acabou. Deseja encerrar a sess√£o agora?
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
					<button type="button" class="btn btn-danger" id="confirmarEncerramento">Encerrar Sess√£o</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Feedback da Sess√£o -->
	<div class="modal fade" id="fbModal" tabindex="-1" aria-labelledby="fbLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content fb-frame border-0 shadow rounded-3">
				<div class="modal-body p-4">
					<h3 class="fs-5 fw-semibold text-dark mb-4 text-center">Feedback da Sess√£o</h3>

					<div class="mb-3">
						<label class="form-label fw-medium small text-secondary">Nome do Terapeuta</label>
						<span id="fb-nomeTerapeuta" class="small d-block mb-1">üë§ </span>
					</div>

					<div class="mb-3">
						<label class="form-label fw-medium small text-secondary">Hor√°rio de Encerramento da
							Sess√£o</label>
						<span id="fb-horarioSessao" class="small d-block mb-1">‚è∞ </span>
					</div>

					<div class="mb-3">
						<label class="form-label fw-medium small text-secondary">Feedback</label>
						<textarea id="fb-texto" class="form-control form-control-sm border-2" rows="3"
							placeholder="Escreva o feedback sobre a sess√£o"></textarea>
					</div>

					<div class="d-grid">
						<button id="fb-salvar" class="btn fb-btn-salvar rounded-3">Salvar</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div vw class="enabled">
		<div vw-access-button class="active"></div>
		<div vw-plugin-wrapper>
			<div class="vw-plugin-topwrapper"></div>
		</div>
	</div>
	<!-- Bootstrap JS -->
	<script src="https://vlibras.gov.br/app/vlibras-plugin.js"> </script>
	<script>new window.VLibras.Widget('https://vlibras.gov.br/app')</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
		crossorigin="anonymous"></script>
	<script src="/frontend/js/sessao.js"></script>

</body>

</html>